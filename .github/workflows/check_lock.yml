name: lock-check

on:
  pull_request:

permissions:
  contents: read

jobs:
  lock-check:
    runs-on: ubuntu-latest
    steps:
      - uses: github/lock@v2.1.3
        id: lock
        with:
          mode: check

      - name: lock status
        run: |
          echo "Lock status: ${{ steps.lock.outputs.locked }}"
          if [ ${{ steps.lock.outputs.locked }} == "true" ]; then
            exit 1
          fi
